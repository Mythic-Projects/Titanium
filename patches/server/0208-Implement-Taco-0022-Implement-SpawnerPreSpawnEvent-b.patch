From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: vemacs <d@nkmem.es>
Date: Mon, 27 Jun 2016 17:33:39 -0700
Subject: [PATCH] Implement [Taco-0022] Implement SpawnerPreSpawnEvent by
 vemacs


diff --git a/src/main/java/net/minecraft/server/MobSpawnerAbstract.java b/src/main/java/net/minecraft/server/MobSpawnerAbstract.java
index 770222cea0996de1694b98c070d22d4f465a9514..1253b1ad98161f483174396a4a981add5be9c239 100644
--- a/src/main/java/net/minecraft/server/MobSpawnerAbstract.java
+++ b/src/main/java/net/minecraft/server/MobSpawnerAbstract.java
@@ -103,6 +103,13 @@ public abstract class MobSpawnerAbstract {
                 boolean flag = false;
 
                 for (int i = 0; i < this.spawnCount; ++i) {
+                    // TacoSpigot start
+                    net.techcable.tacospigot.event.entity.SpawnerPreSpawnEvent event = new net.techcable.tacospigot.event.entity.SpawnerPreSpawnEvent(MCUtil.toLocation(this.a(), blockposition), EntityType.fromName(this.getMobName()));
+                    if (!event.callEvent()) {
+                        flag = true;
+                        break;
+                    }
+                    // TacoSpigot end
                     Entity entity = EntityTypes.createEntityByName(this.getMobName(), this.a());
 
                     if (entity == null) {
